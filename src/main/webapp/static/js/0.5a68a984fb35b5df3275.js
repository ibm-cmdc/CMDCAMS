webpackJsonp([0],{"2VXV":function(e,t,r){"use strict";function l(e){r("c7Tt")}Object.defineProperty(t,"__esModule",{value:!0});var a=r("3cXf"),o=r.n(a),n=r("HzJ8"),i=r.n(n),s={equalTo:function(e,t,r,l){""===t?l(new Error("请再次输入密码")):t!==r?l(new Error("两次输入密码不一致!")):l()},costValidator:function(e,t,r){/^[0-9]+(.[0-9]{2})?$/.test(t)?r():r(new Error("请输入金额"))},isNumberValid:function(e,t,r){if(!t)return r(new Error("不能为空"));/^[0-9]*$/.test(t)?r():r(new Error("请输入数字值"))},isHttpValid:function(e,t,r){if(!t)return r(new Error("不能为空"));/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(t)?r():r(new Error("请输入正确的链接"))},isEailValid:function(e,t,r){if(!t)return r(new Error("邮箱不能为空"));/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)?r():r(new Error("请输入正确的邮箱"))}},u=s,c=r("A0+/"),m={name:"addEidtUser",data:function(){return{planName:"新建用户",editId:this.$route.params.id,ruleForm:{USERNAME:"",UNAME:"",ROLE_ID:"",UPOSITION:"",PHONE:"",EMAIL:"",UCOMPANY:"",STATUS:0},rules:{USERNAME:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:8,message:"长度在3-8个字符之间",trigger:"blur"}],UNAME:[{required:!0,message:"请输入你的姓名",trigger:"blur"},{min:2,max:8,message:"长度在2-8个字符之间",trigger:"blur"}],UPOSITION:[{required:!0,message:"请输入你的职位",trigger:"blur"},{min:2,max:8,message:"长度在2-8个字符之间",trigger:"blur"}],UCOMPANY:[{required:!0,message:"请输入所属公司",trigger:"blur"},{min:2,max:20,message:"长度在2-20个字符之间",trigger:"blur"}],ROLE_ID:[{required:!0,message:"请选择课程分类",trigger:"change"}],PHONE:[{validator:u.isNumberValid,trigger:"blur"}],EMAIL:[{validator:u.isEailValid,trigger:"blur"}]},roleData:[{value:1,label:"普通管理员"},{value:2,label:"高级管理员"}]}},created:function(){this.editId&&(this.planName="编辑人员",this.editInit())},methods:{editInit:function(){var e=this,t={USER_ID:this.editId,limit:1,offset:5};Object(c.b)(t).then(function(t){var r=!0,l=!1,a=void 0;try{for(var n,s=i()(t.ALLUSER);!(r=(n=s.next()).done);r=!0){var u=n.value;e.ruleForm=u,console.log(o()(u))}}catch(e){l=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(l)throw a}}})},updateFun:function(){var e=this,t={USER_ID:this.editId,USERNAME:this.ruleForm.USERNAME,UNAME:this.ruleForm.UNAME,ROLE_ID:this.ruleForm.ROLE_ID,STATUS:1==this.ruleForm.STATUS?1:0,EMAIL:this.ruleForm.STATUS,PHONE:this.ruleForm.PHONE,UCOMPANY:this.ruleForm.UCOMPANY,UPOSITION:this.ruleForm.UPOSITION};Object(c.d)(t).then(function(t){console.log("编辑保存"+o()(t)),e.$router.push({name:"systemUser_list"})})},complete:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r={USERNAME:t.ruleForm.USERNAME,UNAME:t.ruleForm.UNAME,ROLE_ID:t.ruleForm.ROLE_ID,STATUS:1==t.ruleForm.STATUS?1:0,EMAIL:t.ruleForm.STATUS,PHONE:t.ruleForm.PHONE,UGROUP:"",UPLATFORM:" ",UCOMPANY:t.ruleForm.UCOMPANY,UCOSTCENTER:"",UPOSITION:t.ruleForm.UPOSITION,UORGANIZATION:"",INTERSTART:"",INTERDURA:"",OPENID:""};Object(c.c)(r).then(function(e){t.$router.push({name:"systemUser_list"})})})},handleClose:function(e){this.$confirm("确认关闭？").then(function(){e()}).catch(function(){})}}},p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"newbuilt_wrap",attrs:{"data-commont":"新建素材"}},[r("el-row",{staticClass:"back"},[r("el-col",{attrs:{span:.8}},[r("router-link",{attrs:{to:{path:"/systemUser_list"}}},[r("span",{staticClass:"el-icon-arrow-left back_span"},[e._v("返回")])])],1),e._v(" "),r("el-col",{staticStyle:{color:"#ccc"},attrs:{span:.4}},[e._v("|")]),e._v(" "),r("el-col",{attrs:{span:2}},[r("span",[e._v(e._s(e.planName))])])],1),e._v(" "),r("el-row",{staticStyle:{"margin-top":"20px"}},[r("el-col",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"USERNAME"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的用户名"},model:{value:e.ruleForm.USERNAME,callback:function(t){e.$set(e.ruleForm,"USERNAME",t)},expression:"ruleForm.USERNAME"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户描述",prop:"UNAME"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的用户描述"},model:{value:e.ruleForm.UNAME,callback:function(t){e.$set(e.ruleForm,"UNAME",t)},expression:"ruleForm.UNAME"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色",prop:"ROLE_ID"}},[r("el-select",{staticStyle:{width:"800px"},attrs:{placeholder:"请选择你的角色"},model:{value:e.ruleForm.ROLE_ID,callback:function(t){e.$set(e.ruleForm,"ROLE_ID",t)},expression:"ruleForm.ROLE_ID"}},e._l(e.roleData,function(e,t){return r("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"EMAIL"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的职位"},model:{value:e.ruleForm.EMAIL,callback:function(t){e.$set(e.ruleForm,"EMAIL",t)},expression:"ruleForm.EMAIL"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"职位",prop:"UPOSITION"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的职位"},model:{value:e.ruleForm.UPOSITION,callback:function(t){e.$set(e.ruleForm,"UPOSITION",t)},expression:"ruleForm.UPOSITION"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"PHONE"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"请输入你的手机号码"},model:{value:e.ruleForm.PHONE,callback:function(t){e.$set(e.ruleForm,"PHONE",t)},expression:"ruleForm.PHONE"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司",prop:"UCOMPANY"}},[r("el-input",{staticStyle:{width:"800px"},attrs:{placeholder:"输入你所属公司"},model:{value:e.ruleForm.UCOMPANY,callback:function(t){e.$set(e.ruleForm,"UCOMPANY",t)},expression:"ruleForm.UCOMPANY"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态"}},[r("el-checkbox",{model:{value:e.ruleForm.STATUS,callback:function(t){e.$set(e.ruleForm,"STATUS",t)},expression:"ruleForm.STATUS"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"complete",staticStyle:{"text-align":"center"}},[e.editId?r("span",[r("el-button",{staticStyle:{width:"100px",margin:"0 auto"},attrs:{type:"primary"},on:{click:function(t){e.updateFun("ruleForm")}}},[e._v("修改保存")])],1):r("span",[r("el-button",{staticStyle:{width:"100px",margin:"0 auto"},attrs:{type:"primary"},on:{click:function(t){e.complete("ruleForm")}}},[e._v("完成")])],1)])],1)},d=[],A={render:p,staticRenderFns:d},E=A,f=r("/Xao"),b=l,h=f(m,E,!1,b,null,null);t.default=h.exports},"8Bbg":function(e,t,r){t=e.exports=r("acE3")(!0),t.push([e.i,"\n.newbuilt_wrap {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.newbuilt_wrap .back {\n    height: 50px;\n    line-height: 50px;\n    border-bottom: 1px solid #eee;\n    font-size: 1.4rem;\n}\n.newbuilt_wrap .back div {\n      margin-left: 10px;\n}\n","",{version:3,sources:["E:/IBM_terminal2/src/views/systemUser/addEditUser.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,qBAAqB;CACtB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,8BAA8B;IAC9B,kBAAkB;CACrB;AACD;MACM,kBAAkB;CACvB",file:"addEditUser.vue",sourcesContent:["\n.newbuilt_wrap {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.newbuilt_wrap .back {\n    height: 50px;\n    line-height: 50px;\n    border-bottom: 1px solid #eee;\n    font-size: 1.4rem;\n}\n.newbuilt_wrap .back div {\n      margin-left: 10px;\n}\n"],sourceRoot:""}])},"A0+/":function(e,t,r){"use strict";function l(e){return Object(i.a)({url:s.a.proxyPath+"queryUser",method:"get",params:e})}function a(e){return Object(i.a)({url:s.a.proxyPath+"saveUser",method:"get",params:e})}function o(e){return Object(i.a)({url:s.a.proxyPath+"deletePLUserByID",method:"get",params:e})}function n(e){return Object(i.a)({url:s.a.proxyPath+"updateUser",method:"get",params:e})}t.b=l,t.c=a,t.a=o,t.d=n;var i=r("Vo7i"),s=r("F5q8")},HzJ8:function(e,t,r){e.exports={default:r("aSM5"),__esModule:!0}},aSM5:function(e,t,r){r("dmd9"),r("wCtA"),e.exports=r("rLQK")},c7Tt:function(e,t,r){var l=r("8Bbg");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);r("XkoO")("5d27033a",l,!0)},rLQK:function(e,t,r){var l=r("Dc6E"),a=r("X6b2");e.exports=r("UusJ").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return l(t.call(e))}}});
//# sourceMappingURL=0.5a68a984fb35b5df3275.js.map
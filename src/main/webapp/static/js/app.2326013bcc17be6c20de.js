webpackJsonp([6],{"6UTs":function(e,t){},"6tV+":function(e,t){},"9luj":function(e,t){},F5q8:function(e,t,n){"use strict";var r={proxyPath:"/CMDCAMS/"};t.a=r},IcnI:function(e,t,n){"use strict";var r=n("qRXP"),o=n("9rMa"),u={token:function(e){return e.user.token},roles:function(e){return e.user.roles},menuData:function(e){return e.user.menuData},elements:function(e){return e.user.elements},setting:function(e){return e.user.setting}},a=u,i=n("rVsN"),c=n.n(i),s=n("M9A7"),f=n("TIfe"),l=(n("Wohg"),{state:{user:Object(f.b)(),token:Object(f.a)(),roles:"",menuData:void 0,elements:void 0,permissionMenus:void 0,setting:{}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_SETTING:function(e,t){e.setting=t},SET_ROLES:function(e,t){e.roles=t},SET_MENUS:function(e,t){e.menuData=t},SET_ELEMENTS:function(e,t){e.elements=t},SET_PERMISSION_MENUS:function(e,t){e.permissionMenus=t}},actions:{LoginByPhone:function(e,t){var n=e.commit,r=t.txtuid.trim();return n("SET_ROLES",""),n("SET_MENUS",void 0),n("SET_ELEMENTS",void 0),Object(f.c)(),new c.a(function(e,o){Object(s.a)({txtuid:r,txtpwd:t.txtpwd}).then(function(t){var o=t;console.log(o),Object(f.e)(r),console.log("getUserInfo():::"+Object(f.b)()),n("SET_TOKEN",o.TOKEN),console.log("setToken:::::"+Object(f.d)(o.TOKEN)),console.log("getToken:::::"+Object(f.a)()),e()}).catch(function(e){o(e)})})}}}),d=l;r.default.use(o.a);var g=new o.a.Store({modules:{user:d},getters:a});t.a=g},M9A7:function(e,t,n){"use strict";function r(e){return Object(o.a)({url:u.a.proxyPath+"login",method:"get",params:e})}t.a=r;var o=n("Vo7i"),u=n("F5q8")},NHnr:function(e,t,n){"use strict";function r(e){n("6tV+")}function o(e,t){return e.forEach(function(e){e.meta&&(e.meta.model=t)}),e}function u(e){var t=e.getMonth(),n=e.getDate();return 0==t&&0==n?"明天是元旦节":1==t&&12==n?"明天是除夕":1==t&&13==n?"明天是春节/情人节":2==t&&0==n?"明天是国际海豹日":2==t&&7==n?"明天是妇女节":2==t&&11==n?"明天是植树节":3==t&&0==n?"明天是愚人节":3==t&&4==n?"明天是清明节":4==t&&0==n?"明天是劳动节":4==t&&8==n?"明天是母亲节":5==t&&0==n?"明天是儿童节":5==t&&25==n?"明天是禁毒日":7==t&&0==n?"明天是建军节":7==t&&15==n?"明天是七夕":11==t&&23==n?"明天是平安夜":11==t&&24==n?"明天是圣诞节":void 0}function a(e){var t=e.getMonth()+1,n=e.getDate();return(t<10?"0"+t:t)+" 月 "+(n<10?"0"+n:n)+"日"}function i(e){var t=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六"),n=(e.getFullYear(),e.getMonth(),e.getDate(),e.getDay());e.getHours(),e.getMinutes(),e.getSeconds();return t[n]}function c(e){var t=e.getHours(),n=e.getMinutes();e.getSeconds();return(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)}function s(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=calendar.solar2lunar(t,n+1,r),u=o.IDayCn;return o.IMonthCn+u}Object.defineProperty(t,"__esModule",{value:!0});var f={};n.d(f,"filterTomorrowFestival",function(){return u}),n.d(f,"filterFormatDay",function(){return a}),n.d(f,"filterFormatWeek",function(){return i}),n.d(f,"filterFormatTime",function(){return c}),n.d(f,"filterGetLunarInfo",function(){return s});var l=n("ZLEe"),d=n.n(l),g=n("qRXP"),m={name:"app"},p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},h=[],T={render:p,staticRenderFns:h},b=T,v=n("/Xao"),E=r,O=v(m,b,!1,E,null,null),M=O.exports,S=n("zO6J"),_=n("IHPB"),j=n.n(_),I=n("3cXf"),N=n.n(I),w=n("4YfN"),y=n.n(w),k=[{path:"/",redirect:{name:"login"}},{path:"/echarts_list",name:"echarts_list",meta:{title:"eCharts"},component:function(){return n.e(0).then(n.bind(null,"ARoL"))}}],x=[{path:"/creatRole_list",name:"creatRole_list",meta:{title:"CreatRole"},component:function(){return n.e(4).then(n.bind(null,"UUS8"))}},{path:"/binder_list",name:"binder_list",meta:{title:"Binder"},component:function(){return n.e(2).then(n.bind(null,"uyd8"))}}],D=n("TIfe"),R=n("9rMa");g.default.use(S.a);var F=(y()({},Object(R.b)(["token"])),function(e,t,n){console.log("route  getToken():"+N()(Object(D.a)())),Object(D.a)()||n({path:"/login",query:{redirect:e.fullpath}}),n()}),U={path:"/",component:function(){return n.e(1).then(n.bind(null,"AkUR")).then(function(e){return e.default})},children:[].concat(j()(o(k,"dashboard")),j()(o(x,"creatRole")))};U.children.forEach(function(e){e.beforeEnter=F});var A={path:"/login",name:"login",component:function(){return n.e(3).then(n.bind(null,"T+/8")).then(function(e){return e.default})}},L={path:"*",redirect:function(e){return"/login"}},P=new S.a({routes:[A,U,L]}),B=n("IcnI"),C=n("Jxp9"),q=n.n(C);n("9luj"),n("6UTs"),n("dAN1");g.default.use(S.a),g.default.use(q.a),g.default.config.productionTip=!1,d()(f).forEach(function(e){g.default.filter(e,f[e])}),new g.default({router:P,store:B.a,render:function(e){return e(M)}}).$mount("#app")},TIfe:function(e,t,n){"use strict";function r(){return l.a.get(d)}function o(e){return l.a.set(d,e,{expires:1800})}function u(){return l.a.remove(d)}function a(){var e=window.localStorage;return JSON.parse(e.IBM_UserInfo||"{}")}function i(e){window.localStorage.IBM_UserInfo=s()(e||{})}t.a=r,t.d=o,t.c=u,t.b=a,t.e=i;var c=n("3cXf"),s=n.n(c),f=n("uAC3"),l=n.n(f),d="terminal-Token"},Vo7i:function(e,t,n){"use strict";var r=n("rVsN"),o=n.n(r),u=n("2sCs"),a=n.n(u),i=n("Jxp9"),c=(n.n(i),n("IcnI")),s=n("TIfe"),f=a.a.create({timeout:3e5});f.interceptors.request.use(function(e){return c.a.getters.token&&(e.headers.token=Object(s.b)()+"_"+Object(s.a)()),e},function(e){console.log(e),o.a.reject(e)}),f.interceptors.response.use(function(e){var t=e.data;return 401===e.status||t.err_code,40301===t.status?(Object(i.Message)({message:"当前用户无相关操作权限！",type:"error",duration:5e3}),o.a.reject("error")):200===e.status||200===t.status?(40104===t.err_code&&i.MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){c.a.dispatch("FedLogOut").then(function(){location.reload()})}),e.data):void Object(i.Message)({message:t.message,type:"error",duration:5e3})},function(e){return console.log("err"+e),Object(i.Message)({message:e.message,type:"error",duration:5e3}),o.a.reject(e)}),t.a=f},Wohg:function(e,t,n){"use strict";function r(e){return Object(o.a)({url:u.a.proxyPath+"getmenu",method:"get",params:e})}t.a=r;var o=n("Vo7i"),u=n("F5q8");n("TIfe")},dAN1:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2326013bcc17be6c20de.js.map
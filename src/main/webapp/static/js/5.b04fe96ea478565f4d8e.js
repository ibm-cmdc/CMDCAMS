webpackJsonp([5],{"8UE4":function(e,t,a){"use strict";t.a=[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}]},JHay:function(e,t,a){var l=a("l6ZX");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("XkoO")("0f6ba788",l,!0)},UnWj:function(e,t,a){"use strict";function l(e){a("JHay")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("8UE4"),r=[{department:"研发部",name:"王小虎",post:"前端"}],i=[{name:"管理员"},{name:"普通管理员"},{name:"高级管理员"}],n=[{orgName:"部门",orgCode:"2322",loginName:"113233",name:"李佩盈"},{orgName:"部门",orgCode:"4545",loginName:"113233",name:"pig"},{orgName:"部门",orgCode:"2322",loginName:"113233",name:"dog"},{orgName:"部门",orgCode:"78787",loginName:"113233",name:"嗯呐"},{orgName:"部门",orgCode:"5645",loginName:"113233",name:"people"}],s=a("TIfe"),c=a("Wohg"),u={name:"authority",data:function(){return{createDialogVisible:!1,cascaderData:o.a,tableData:r,roleData:i,peopleData:n,boundMemberDiadig:!1,filterText:"",multipleSelection:[],defaultProps:{children:"subMenu",label:"MENU_NAME"},ruleForm:{name:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}]}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:{},methods:{addTreeFun:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.createDialogVisible=!1,t.roleData.push({name:t.ruleForm.name})})},addRoleTree:function(){var e=this;this.createDialogVisible=!0;var t={USER_ID:Object(s.c)(),RIGHTS:Object(s.b)().RIGHTS,PLATFORM:"1"};Object(c.a)(t).then(function(t){e.cascaderData=t})},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleClose:function(e){this.$confirm("确认关闭？").then(function(){e()}).catch(function(){})}}},d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"authority_wrap",attrs:{"data-commont":"新建素材"}},[a("el-row",{staticStyle:{background:"#fff",padding:"15px 0","border-bottom":"1px solid #eee"}},[a("el-col",{attrs:{span:2,offset:21}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.addRoleTree}},[e._v("添加角色")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"请创建角色",visible:e.createDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.createDialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称:",prop:"name"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"角色名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"功能权限:"}},[a("el-tree",{staticStyle:{height:"150px",overflow:"auto"},attrs:{data:e.cascaderData,"show-checkbox":"","node-key":"id",props:e.defaultProps}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addTreeFun("ruleForm")}}},[e._v("保存")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleData,"show-header":!1}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{height:"150px",overflow:"auto"}},[a("el-table",{attrs:{data:e.peopleData}},[a("el-table-column",{attrs:{prop:"orgName",label:"部门名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orgCode",label:"部门编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginName",label:"登录账号"}}),e._v(" "),a("el-table-column",{attrs:{label:"密码重置",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",[e._v("密码重置")])]}}])})],1)],1)]}}])}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[a("el-button",{on:{click:function(t){e.boundMemberDiadig=!0}}},[e._v("绑定成员")])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"选择绑定成员",visible:e.boundMemberDiadig,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.boundMemberDiadig=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("h3",[e._v("选择:")]),e._v(" "),a("el-input",{attrs:{placeholder:"搜索部门"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.cascaderData,"filter-node-method":e.filterNode}})],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("h3",[e._v("已选")]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.peopleData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.post))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.boundMemberDiadig=!1}}},[e._v("确 定")])],1)],1)],1)},m=[],f={render:d,staticRenderFns:m},b=f,p=a("/Xao"),g=l,h=p(u,b,!1,g,null,null);t.default=h.exports},l6ZX:function(e,t,a){t=e.exports=a("acE3")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"binder.vue",sourceRoot:""}])}});
//# sourceMappingURL=5.b04fe96ea478565f4d8e.js.map